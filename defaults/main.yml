# The Terraform version to install
terraform_version: 1.0.8
# Map architectures as reported by ansible_architecture to those in Terraform URLs
terraform_architectures:
  x86_64: amd64
  arm64: arm64
# The system name to use in the Terraform zip name
terraform_system: "{{ ansible_system | lower }}"
# The architecture to use in the Terraform zip name
terraform_architecture: "{{ terraform_architectures[ansible_architecture] }}"
# The name of the Terraform zip
terraform_zip_name: terraform_{{ terraform_version }}_{{ terraform_system }}_{{ terraform_architecture }}.zip
# The URL of the Terraform binary
terraform_binary_url: https://releases.hashicorp.com/terraform/{{ terraform_version }}/{{ terraform_zip_name }}

# The directory to put the Terraform binary in
terraform_binary_directory: "{{ playbook_dir }}/.bin"
# The path to the Terraform binary
terraform_binary_path: "{{ terraform_binary_directory }}/terraform"

# The default Terraform state key for backends that support it
terraform_state_key: "tfstate"
# Default backend configs for supported backend types
# Any backend type can be used as long as all the required options are provided
# via either the environment or the "terraform_backend_config" variable
terraform_backend_config_defaults:
  # No additional config required for the local backend
  local: {}
  # For Consul, set path and gzip but require connection into to come from the environment
  consul:
    path: "{{ terraform_state_key }}"
    gzip: "true"
# The backend configuration for the selected backend
terraform_backend_config: "{{ terraform_backend_config_defaults[terraform_backend_type] | default({}) }}"

# The SSH user defaults to centos
cluster_ssh_user: centos
# The gateway user defaults to the regular SSH user
cluster_gateway_user: "{{ cluster_ssh_user }}"
